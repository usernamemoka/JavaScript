<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <style>
    .list{
        margin: 0;
        padding: 0;
        width: 600px;
        height: 420px;
        margin: 50px auto 0;
    }
    .list li{
        list-style: none;
        width: 58px;
        height: 58px;
        line-height: 58px;
        text-align: center;
        color: #fff;
        font-size: 14px;
        font-weight: bold;
        border: 1px solid #000;
        float: left;
        background-color: red;
    }
    </style>
    <script>
    /*10 * 7*/
    window.onload = function(){
        var oList = document.getElementById("list");
        var aLi = oList.getElementsByTagName("li");
        var iRows = oList.offsetHeight / aLi[0].offsetHeight;
        var iCeils = oList.offsetWidth / aLi[0].offsetWidth;
        var aInput = document.getElementsByTagName("input");

        var erWei = getErWei();//7行10列的二维数组

        function getErWei(){
            var arr2 = [];
            for(var i = 0; i < iRows; i ++){
                var arr1 = [];//注意这个位置！！！
                for(var j = 0; j < iCeils; j++){
                    arr1.push( aLi[ i * iCeils + j ] );
                }
                arr2.push( arr1 );
            }
            return arr2;
        }

        aInput[0].onclick = function(){
            tab(erWei,iRows-1,iCeils-1,function(){
                this.style.backgroundColor = "pink";
            },50,-1,-1);
        };
        aInput[1].onclick = function(){
            tab(erWei,0,0,function(){
                this.style.backgroundColor = "red";
            },50,1,1);
        };

        for(var i = 0; i < 7 ; i ++){
            for(var j = 0; j < 10 ; j ++){
                aLi[i * 10 + j].innerHTML = j + "||" + i;
            }
        }

        function tab(arr,x,y,fn,iDelay,iSpeedX,iSpeedY){
            if( !arr[x] || !arr[x][y] ){
                return false;
            }
            if(fn){
                fn.call(arr[x][y]);
                clearTimeout(arr[x][y].timer);
                arr[x][y].timer = setTimeout(function(){
                    tab(arr,x + iSpeedX,y,fn,iDelay,iSpeedX,iSpeedY);
                    tab(arr,x,y + iSpeedY,fn,iDelay,iSpeedX,iSpeedY);
                },iDelay);
            }
        }

    }
    </script>
</head>
<body>
    <input type="button" value="展开">
    <input type="button" value="重置">
    <ul class="list" id="list">
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>

        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>

        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>

        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>

        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>

        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>

        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>

    </ul>
</body>
</html>